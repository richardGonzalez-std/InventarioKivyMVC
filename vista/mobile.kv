# 1. Definimos el 'BaseMDNavigationItem'
<BaseMDNavigationItem>:
    icon: "camera-document"
    text: "Scanner"

    MDNavigationItemIcon:
        icon: root.icon

    MDNavigationItemLabel:
        text: root.text


# 2. Definimos la PANTALLA DE CÁMARA (¡MODIFICADA!)
<CameraScreen>:
    MDBoxLayout:
        orientation: "vertical"
        
        MDTopAppBar:
            type: "small"
            MDTopAppBarTitle:
                text: "Cámara de Inventario"
                halign: "center"
        
        # Este es el contenedor vacío donde pondremos la cámara
        # usando código Python, DESPUÉS de tener el permiso.
        MDBoxLayout:
            id: camera_placeholder


# 3. Definimos la PANTALLA DE INVENTARIO (reutilizable)
<InventoryScreen>:
    MDBoxLayout:
        orientation: "vertical"
        
        MDTopAppBar:
            id: inventory_toolbar
            type: "small"
            MDTopAppBarTitle:
                text: root.name.capitalize() 
                halign: "center"
        
        MDLabel:
            text: f"Contenido de {root.name}"
            halign: "center"


# 4. Definimos el WIDGET RAÍZ de la aplicación
MDBoxLayout:
    orientation: "vertical"
    md_bg_color: self.theme_cls.backgroundColor

    MDScreenManager:
        id: screen_manager

        CameraScreen:
            name: "camera"

        InventoryScreen:
            name: "consumos"

        InventoryScreen:
            name: "mantenimiento"

        InventoryScreen:
            name: "oficina"

    MDNavigationBar:
        on_switch_tabs: app.on_switch_tabs(*args)

        BaseMDNavigationItem:
            name: "camera"
            text: "Cámara"
            icon: "camera"
            active: True

        BaseMDNavigationItem:
            name: "consumos"
            text: "Consumos"
            icon: "food-apple"

        BaseMDNavigationItem:
            name: "mantenimiento"
            text: "Mantenimiento"
            icon: "wrench"
            
        BaseMDNavigationItem:
            name: "oficina"
            text: "Oficina"
            icon: "desktop-tower"